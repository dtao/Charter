$red:       #fee
$darkRed:   darken($red, 70%)
$blue:      #eff
$darkBlue:  darken($blue, 70%)
$yellow:    #ffe
$green:     #efe
$darkGreen: darken($green, 60%)
$gray:      #eee

@mixin box-sizing($sizing)
  box-sizing: $sizing
  -moz-box-sizing: $sizing
  -webkit-box-sizing: $sizing

@mixin tooltip
  position: fixed
  bottom: 0
  left: 0
  right: 0
  height: 50px

  color: white
  font-family: Helvetica, Arial, sans-serif
  font-size: 24px
  line-height: 50px
  text-align: center
  z-index: 1

  &:before
    content: ""
    position: fixed
    bottom: 0
    left: 0
    right: 0
    height: 50px
    display: block
    background-color: black
    opacity: 0.5
    filter: alpha(opacity=50)
    z-index: -1

  em
    color: darken($red, 20%)
    font-style: normal

body
  margin-top: 50px

article
  margin: auto
  min-width: 800px
  width: 75%

@media all and (max-width: 799px)
  article
    min-width: 0
    width: 100%

header
  font-family: Helvetica, Arial, sans-serif
  margin-bottom: 20px
  text-align: center

  h1
    font-size: 400%
    font-weight: 300
    margin-bottom: 0

    span
      background: url("/images/line-chart.png") no-repeat left center
      padding-left: 64px

  a
    color: $darkBlue
    display: inline-block
    margin-right: 5px
    padding-left: 5px
    text-decoration: none
    &:hover
      color: lighten($darkBlue, 10%)
      text-decoration: underline
    &:active
      color: $darkGreen
    &:last-child
      border-left: 1px solid black

form#data-form
  font-family: Helvetica, Arial, sans-serif
  margin: auto

input.title
  @include box-sizing(border-box)
  border: none
  border-bottom: 1px solid black
  display: block
  font-family: Helvetica, Arial, sans-serif
  font-size: 200%
  font-weight: 300
  margin-bottom: 20px
  padding: 10px
  width: 100%

  &.empty
    background-color: $gray

  &:hover
    background-color: $green

  &:focus
    background-color: $yellow

#rendered-chart
  height: 400px

.field
  margin-bottom: 20px

a.add-description
  color: $darkBlue
  text-decoration: none
  &:hover
    color: lighten($darkBlue, 10%)

textarea
  @include box-sizing(border-box)
  display: block
  font-size: 125%
  padding: 10px
  width: 100%

table#data-table
  @include box-sizing(border-box)
  border: 2px solid black
  border-collapse: collapse
  width: 100%

  tr
    &:nth-child(even)
      background-color: $gray
      input
        background-color: $gray

    &:hover
      background-color: $yellow
      input
        background-color: $yellow

    &:first-child
      background-color: white
      th, td
        border-bottom: 1px solid black
      input
        background-color: white
        font-weight: bold
      &:hover
        background-color: $green
        input
          background-color: $green

    input:focus
      background-color: $blue

    &:first-child
      input:focus
        background-color: $yellow !important

  th, td
    border: 1px solid $gray
    text-align: left

  input
    @include box-sizing(border-box)
    border: none
    font-size: 125%
    padding: 10px
    width: 100%

.table-actions
  margin-top: 5px
  margin-bottom: 20px
  padding: 5px
  text-align: right

  a
    color: $darkBlue
    display: inline-block
    height: 48px
    width: 48px
    font-size: 125%
    font-weight: bold
    margin-left: 5px
    text-decoration: none
    &.add-row
      background: url("/images/add-row.gif")
    &.delete-row
      background: url("/images/delete-row.gif")
    &.add-column
      background: url("/images/add-column.gif")
    &.delete-column
      background: url("/images/delete-column.gif")

    .tooltip
      @include tooltip
      display: none

    &:hover
      .tooltip
        display: block

input#save-button
  background-color: darken($gray, 25%)
  border: 2px solid white
  cursor: pointer
  display: inline-block
  font-size: 125%
  padding: 10px
  width: 100px

  &:hover
    background-color: $blue
    border-color: black

  &:active
    background-color: $green
    border-color: black

.description
  border-bottom: 1px solid black
  font-size: 150%
  margin-bottom: 10px
  padding-bottom: 10px

  p:last-child
    margin-bottom: 0

footer
  .instructions
    @include tooltip
    display: none

    &.visible
      display: block

.notices
  position: fixed
  top: 25%
  bottom: 25%
  left: 25%
  right: 25%

  background-color: white
  border: 3px solid black
  font-family: Helvetica, Arial, sans-serif
  padding: 10px

  .notice
    color: $darkRed
    font-size: 200%
    font-weight: bold

  .dismiss
    position: absolute
    bottom: 10px
    right: 10px

    background-color: $gray
    color: black
    display: inline-block
    padding: 10px
    text-align: center
    text-decoration: none
    width: 60px

    &:hover
      color: $darkGreen
